import{a as W,c as J}from"./chunk-YOSIZJPE.js";import{a as K}from"./chunk-VGYVBEAV.js";import{j as Y}from"./chunk-WHWL7PKT.js";import{$a as N,Aa as E,Ab as ee,Ca as I,Da as l,H as b,J as S,K as $,Ka as r,La as p,Ma as k,Qa as O,Ra as v,Sa as C,Ta as L,W as z,X as M,Y as n,bb as U,ca as j,db as q,h as g,ha as A,i as B,mb as H,o as D,oa as s,pa as V,qa as m,s as T,sa as h,ta as y,ua as f,ub as G,va as a,vb as R,wa as o,xa as x,xb as Q,y as F,yb as X,zb as Z}from"./chunk-25JCDCCY.js";var ne=e=>({count:e}),ie=e=>({minutes:e}),P=(e,i)=>i.id;function ae(e,i){if(e&1&&(a(0,"div",14)(1,"span"),r(2),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(c("media-details.format.vote-count",O(1,ne,t.vote_count)))}}function oe(e,i){if(e&1&&(a(0,"div",15)(1,"span"),r(2),v(3,"date"),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(L(3,1,t.release_date??t.first_air_date,c("media-details.format.release-date")))}}function le(e,i){if(e&1&&(a(0,"div",16)(1,"span"),r(2),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(c("media-details.format.runtime-minutes",O(1,ie,t.runtime)))}}function re(e,i){if(e&1&&(a(0,"div",16)(1,"span"),r(2),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(c("media-details.format.runtime-minutes-per-episode",O(1,ie,t==null||t.episode_run_time==null?null:t.episode_run_time[0])))}}function de(e,i){if(e&1&&(a(0,"li",19),r(1),o()),e&2){let t=i.$implicit;n(),p(t.name)}}function pe(e,i){if(e&1&&(a(0,"ul",17),h(1,de,2,1,"li",19,P),o()),e&2){let t=l();n(),y(t.genres)}}function ce(e,i){if(e&1&&x(0,"img",23),e&2){let t=l().$implicit;f("src","https://image.tmdb.org/t/p/w185"+t.profile_path,M)("alt",t.name)}}function se(e,i){e&1&&x(0,"div",24)}function me(e,i){if(e&1&&(a(0,"li",22),s(1,ce,1,2,"img",23)(2,se,1,0,"div",24),a(3,"div",25)(4,"p",26),r(5),o(),a(6,"p",27),r(7),o()()()),e&2){let t=i.$implicit;n(),m(t.profile_path?1:2),n(4),p(t.name),n(2),p(t.character)}}function _e(e,i){if(e&1&&(a(0,"ul",20),h(1,me,8,3,"li",22,P),o()),e&2){let t=l();n(),y(t)}}function ge(e,i){if(e&1&&(a(0,"p",21),r(1),o()),e&2){let t=l(3).$implicit;n(),p(t("media-details.empty.cast-not-found"))}}function fe(e,i){e&1&&s(0,_e,3,0,"ul",20)(1,ge,2,1,"p",21),e&2&&m(i.length?0:1)}function xe(e,i){if(e&1&&(a(0,"li",29)(1,"span",30),r(2),o(),a(3,"span",31),r(4),o()()),e&2){let t=i.$implicit;n(2),p(t.name),n(2),p(t.job)}}function ve(e,i){if(e&1&&(a(0,"ul",28),h(1,xe,5,2,"li",29,P),o()),e&2){let t=l();n(),y(t)}}function ue(e,i){if(e&1&&(a(0,"p",21),r(1),o()),e&2){let t=l(3).$implicit;n(),p(t("media-details.empty.crew-not-found"))}}function Ce(e,i){e&1&&s(0,ve,3,0,"ul",28)(1,ue,2,1,"p",21),e&2&&m(i.length?0:1)}function be(e,i){if(e&1&&(a(0,"a",33),x(1,"img",34),a(2,"span",35),r(3),o()()),e&2){let t=i.$implicit;f("href","https://www.youtube.com/watch?v="+t.key,M)("title",t.name),n(),f("src","https://img.youtube.com/vi/"+t.key+"/hqdefault.jpg",M)("alt",t.name),n(2),p(t.type)}}function Me(e,i){if(e&1&&(a(0,"div",32),h(1,be,4,5,"a",33,P),o()),e&2){let t=l();n(),y(t)}}function he(e,i){if(e&1&&(a(0,"p",21),r(1),o()),e&2){let t=l(3).$implicit;n(),p(t("media-details.empty.videos-not-found"))}}function ye(e,i){e&1&&s(0,Me,3,0,"div",32)(1,he,2,1,"p",21),e&2&&m(i.length?0:1)}function we(e,i){if(e&1){let t=E();a(0,"div",4),x(1,"img",6),a(2,"div",7)(3,"h1",8),r(4),a(5,"gs-buttons",9),I("activated",function(){let _=S(t),d=l(2);return $(d.onToggleFavorite(_))}),o()(),a(6,"p",10),r(7),o(),a(8,"div",11)(9,"div",12),x(10,"i",13),a(11,"span"),r(12),v(13,"tmdbPercent"),o()(),s(14,ae,3,3,"div",14),s(15,oe,4,4,"div",15),s(16,le,3,3,"div",16)(17,re,3,3,"div",16),o(),s(18,pe,3,0,"ul",17),a(19,"h2",18),r(20),o(),s(21,fe,2,1),v(22,"async"),a(23,"h2",18),r(24),o(),s(25,Ce,2,1),v(26,"async"),a(27,"h2",18),r(28),o(),s(29,ye,2,1),v(30,"async"),o()()}if(e&2){let t,c,_,d=i,w=l().$implicit,u=l();n(),f("src","https://image.tmdb.org/t/p/original/"+d.poster_path,M)("alt",d.title??d.name),n(3),k(" ",d.title??d.name," "),n(),f("buttonType",u.buttonType.Default)("variant",d.favorite?u.variantType.Solid:u.variantType.Outline)("bootstrapIcon",d.favorite?"bi-heart-fill":"bi-heart")("textColor",d.favorite?"#fff":""),n(2),k(" ",d.overview||w("media-details.fallback.overview-not-available")," "),n(5),p(C(13,19,d.vote_average)),n(2),m(d.vote_count!==void 0?14:-1),n(),m(d.release_date||d.first_air_date?15:-1),n(),m(d.runtime?16:d.episode_run_time!=null&&d.episode_run_time.length?17:-1),n(2),m(d.genres.length?18:-1),n(2),p(w("media-details.section-title.cast")),n(),m((t=C(22,21,u.topCast$))?21:-1,t),n(3),p(w("media-details.section-title.crew")),n(),m((c=C(26,23,u.mainCrew$))?25:-1,c),n(3),p(w("media-details.section-title.videos")),n(),m((_=C(30,25,u.videosTrailerClip$))?29:-1,_)}}function Te(e,i){if(e&1&&x(0,"p",5),e&2){let t=l().$implicit;f("innerHTML",t("common.messages.nothing-found")+" "+t("common.messages.select-media-to-see-details"),z)}}function Oe(e,i){if(e&1){let t=E();a(0,"div",2)(1,"gs-buttons",3),I("click",function(){S(t);let _=l();return $(_.goBack())}),o(),s(2,we,31,27,"div",4),v(3,"async"),V(4,Te,1,1,"p",5),o()}if(e&2){let t,c=i.$implicit,_=l();n(),f("buttonType",_.buttonType.Default)("text",c("common.buttons.back"))("target",_.targetType.NewTab)("variant",_.variantType.Outline),n(),m((t=C(3,5,_.mediaDetails$))?2:4,t)}}var te=class e{buttonType=X;targetType=Z;variantType=ee;location=b(N);route=b(H);tMDBService=b(J);local=b(Y);mediaType$=this.route.paramMap.pipe(T(),g(i=>i.get("mediaType")),D(i=>!!i&&Object.values(W).includes(i)));mediaId$=this.route.paramMap.pipe(T(),g(i=>Number(i.get("id"))),D(i=>Number.isFinite(i)));mediaDetails$=B([this.mediaType$,this.mediaId$]).pipe(F(([i,t])=>this.tMDBService.getMediaDetailsByID(i,t)),g(i=>{let t=this.local.getFavoritesSnapshot().some(c=>c.id===i.id);return i.favorite=t,i}));isMovie$=this.mediaType$.pipe(T(),g(i=>i==="movie"));topCast$=this.mediaDetails$.pipe(g(i=>(i?.credits?.cast??[]).slice(0,8)));mainCrew$=this.mediaDetails$.pipe(g(i=>(i?.credits?.crew??[]).filter(t=>t.job==="Director"||t.job==="Writer"||t.department==="Writing").slice(0,6)));videosTrailerClip$=this.mediaDetails$.pipe(g(i=>(i?.videos?.results??[]).filter(t=>t.type==="Trailer"||t.type==="Clip")));onToggleFavorite(i){this.local.changeMediaStatus(i)}goBack(){this.location.back()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=j({type:e,selectors:[["clqt-media-details"]],decls:2,vars:0,consts:[[1,"main"],["class","content",4,"transloco"],[1,"content"],["bootstrapIcon","bi-chevron-double-left","color","#41C8D5","textColor","#FFFFFF","hoverColor","#12AFC0","activeColor","#29BBCA",1,"btn-back",3,"click","buttonType","text","target","variant"],[1,"card"],[1,"empty","required",3,"innerHTML"],["loading","lazy",1,"poster",3,"src","alt"],[1,"text"],[1,"title"],["text","","buttonHtmlType","button","buttonId","fav-btn","color","#ff5a79",1,"fav-btn",3,"activated","buttonType","variant","bootstrapIcon","textColor"],[1,"overview"],[1,"infos"],[1,"vote-average"],[1,"bi","bi-star-fill"],[1,"vote-count"],[1,"release-date"],[1,"runtime"],[1,"genres"],[1,"section-title"],[1,"genre-chip"],[1,"people-grid"],[1,"empty"],[1,"person"],["loading","lazy",1,"person-photo",3,"src","alt"],["aria-hidden","true",1,"person-photo","fallback"],[1,"person-text"],[1,"person-name"],[1,"person-role"],[1,"crew-list"],[1,"crew-item"],[1,"crew-name"],[1,"crew-job"],[1,"videos-grid"],["target","_blank","rel","noopener",1,"video-thumb",3,"href","title"],["loading","lazy",3,"src","alt"],[1,"video-label"]],template:function(t,c){t&1&&(a(0,"div",0),A(1,Oe,5,7,"div",1),o())},dependencies:[Q,R,G,K,q,U],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;padding:16px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;max-width:1560px;margin:0 auto;background:linear-gradient(160deg,#021018,#08324f)}.btn-back[_ngcontent-%COMP%]{align-self:flex-start}.card[_ngcontent-%COMP%]{display:grid;grid-template-columns:clamp(300px,30vw,460px) 1fr;gap:18px;width:100%;min-height:calc(100vh - 32px);background:linear-gradient(90deg,#103750,#0e4c79);border:3px solid #0f5b86;border-radius:1.25rem}.poster[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 32px);position:sticky;top:16px;object-fit:cover;border-top-left-radius:1.25rem;border-bottom-left-radius:1.25rem;filter:drop-shadow(0 10px 24px rgba(0,0,0,.35));box-shadow:inset -56px 0 64px -56px #0000008c}.text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:20px 20px 22px}.title[_ngcontent-%COMP%]{display:flex;font-size:clamp(1.4rem,2.2vw,2.15rem);font-weight:800;margin:0}.fav-btn[_ngcontent-%COMP%]{background:transparent;cursor:pointer;font-size:1.1rem;line-height:1;margin-left:auto}.fav-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.overview[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;opacity:.95;margin-top:2px}.infos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;column-gap:18px;row-gap:8px;margin-top:6px}.release-date[_ngcontent-%COMP%], .vote-average[_ngcontent-%COMP%], .vote-count[_ngcontent-%COMP%], .runtime[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px}.release-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-average[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .runtime[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.bi-star-fill[_ngcontent-%COMP%]{color:#ff0}.genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin:2px 0 4px;padding:0;list-style:none}.genre-chip[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;background:#ffffff1f;border:1px solid rgba(255,255,255,.15);font-size:.8rem;white-space:nowrap}.section-title[_ngcontent-%COMP%]{margin:14px 0 8px;font-weight:800;font-size:1.05rem}.empty[_ngcontent-%COMP%]{opacity:.85;font-size:.9rem}.empty.required[_ngcontent-%COMP%]{margin:8px 0}.people-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px 16px;margin:0 0 12px;padding:0;list-style:none}.person[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;min-width:0}.person-photo[_ngcontent-%COMP%]{width:56px;aspect-ratio:2/3;object-fit:cover;border-radius:8px;border:1px solid rgba(255,255,255,.15);flex:0 0 auto}.person-photo.fallback[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff14,#ffffff05),radial-gradient(120% 120% at 50% 20%,#ffffff1f,#ffffff0a)}.person-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;min-width:0}.person-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;line-height:1.1}.person-role[_ngcontent-%COMP%]{opacity:.85;font-size:.85rem;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crew-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:6px 18px;margin:0 0 12px;padding:0;list-style:none}.crew-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:baseline;gap:12px}.crew-item[_ngcontent-%COMP%]   .crew-name[_ngcontent-%COMP%]{font-weight:700}.crew-item[_ngcontent-%COMP%]   .crew-job[_ngcontent-%COMP%]{opacity:.9;white-space:nowrap}.videos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.video-thumb[_ngcontent-%COMP%]{position:relative;display:block;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,.15);transition:transform .12s ease}.video-thumb[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.video-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;object-fit:cover;display:block}.video-thumb[_ngcontent-%COMP%]   .video-label[_ngcontent-%COMP%]{color:#f5f5f5;position:absolute;left:8px;bottom:8px;padding:2px 8px;border-radius:6px;background:#000000c2;font-size:.75rem;font-weight:700;transition:.2s ease}.video-thumb[_ngcontent-%COMP%]   .video-label[_ngcontent-%COMP%]:hover{color:#25b6ff}@media (max-width: 1024px){.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.crew-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.videos-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.card[_ngcontent-%COMP%]{grid-template-columns:1fr}.poster[_ngcontent-%COMP%]{position:static;height:52vh;border-radius:1.25rem 1.25rem 0 0;box-shadow:inset 0 -32px 48px -40px #00000080;filter:none}.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.videos-grid[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-auto-columns:80%;overflow-x:auto;scroll-snap-type:x mandatory;gap:10px;padding-bottom:4px}.videos-grid[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]{scroll-snap-align:start}}@media (max-width: 482px){.title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fav-btn[_ngcontent-%COMP%]{margin-left:0}}"]})};export{te as MediaDetails};
