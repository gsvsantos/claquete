import{a as J}from"./chunk-N4RVI7FJ.js";import{b as G}from"./chunk-CNNWYUJR.js";import{a as R}from"./chunk-DMN7OJOE.js";import{j as H}from"./chunk-QYSTF4DA.js";import{a as K,b as Q,c as X,d as Z}from"./chunk-4TR4FSUN.js";import{Aa as A,Ca as V,Da as l,H as w,J as I,K as F,Ka as r,La as p,Ma as S,Qa as O,Ra as v,Sa as u,Ta as L,W as B,X as b,Y as n,bb as N,ca as k,cb as U,h as g,ha as z,i as $,mb as q,o as D,oa as s,pa as j,qa as m,s as T,sa as M,ta as h,ua as f,ub as W,va as a,vb as Y,wa as o,xa as x,y as E}from"./chunk-HUFLTYHU.js";var ie=e=>({count:e}),te=e=>({minutes:e}),P=(e,i)=>i.id;function ne(e,i){if(e&1&&(a(0,"div",14)(1,"span"),r(2),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(c("media-details.format.vote-count",O(1,ie,t.vote_count)))}}function ae(e,i){if(e&1&&(a(0,"div",15)(1,"span"),r(2),v(3,"date"),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(L(3,1,t.release_date??t.first_air_date,c("media-details.format.release-date")))}}function oe(e,i){if(e&1&&(a(0,"div",16)(1,"span"),r(2),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(c("media-details.format.runtime-minutes",O(1,te,t.runtime)))}}function le(e,i){if(e&1&&(a(0,"div",16)(1,"span"),r(2),o()()),e&2){let t=l(),c=l().$implicit;n(2),p(c("media-details.format.runtime-minutes-per-episode",O(1,te,t==null||t.episode_run_time==null?null:t.episode_run_time[0])))}}function re(e,i){if(e&1&&(a(0,"li",19),r(1),o()),e&2){let t=i.$implicit;n(),p(t.name)}}function de(e,i){if(e&1&&(a(0,"ul",17),M(1,re,2,1,"li",19,P),o()),e&2){let t=l();n(),h(t.genres)}}function pe(e,i){if(e&1&&x(0,"img",23),e&2){let t=l().$implicit;f("src","https://image.tmdb.org/t/p/w185"+t.profile_path,b)("alt",t.name)}}function ce(e,i){e&1&&x(0,"div",24)}function se(e,i){if(e&1&&(a(0,"li",22),s(1,pe,1,2,"img",23)(2,ce,1,0,"div",24),a(3,"div",25)(4,"p",26),r(5),o(),a(6,"p",27),r(7),o()()()),e&2){let t=i.$implicit;n(),m(t.profile_path?1:2),n(4),p(t.name),n(2),p(t.character)}}function me(e,i){if(e&1&&(a(0,"ul",20),M(1,se,8,3,"li",22,P),o()),e&2){let t=l();n(),h(t)}}function _e(e,i){if(e&1&&(a(0,"p",21),r(1),o()),e&2){let t=l(3).$implicit;n(),p(t("media-details.empty.cast-not-found"))}}function ge(e,i){e&1&&s(0,me,3,0,"ul",20)(1,_e,2,1,"p",21),e&2&&m(i.length?0:1)}function fe(e,i){if(e&1&&(a(0,"li",29)(1,"span",30),r(2),o(),a(3,"span",31),r(4),o()()),e&2){let t=i.$implicit;n(2),p(t.name),n(2),p(t.job)}}function xe(e,i){if(e&1&&(a(0,"ul",28),M(1,fe,5,2,"li",29,P),o()),e&2){let t=l();n(),h(t)}}function ve(e,i){if(e&1&&(a(0,"p",21),r(1),o()),e&2){let t=l(3).$implicit;n(),p(t("media-details.empty.crew-not-found"))}}function Ce(e,i){e&1&&s(0,xe,3,0,"ul",28)(1,ve,2,1,"p",21),e&2&&m(i.length?0:1)}function ue(e,i){if(e&1&&(a(0,"a",33),x(1,"img",34),a(2,"span",35),r(3),o()()),e&2){let t=i.$implicit;f("href","https://www.youtube.com/watch?v="+t.key,b)("title",t.name),n(),f("src","https://img.youtube.com/vi/"+t.key+"/hqdefault.jpg",b)("alt",t.name),n(2),p(t.type)}}function be(e,i){if(e&1&&(a(0,"div",32),M(1,ue,4,5,"a",33,P),o()),e&2){let t=l();n(),h(t)}}function Me(e,i){if(e&1&&(a(0,"p",21),r(1),o()),e&2){let t=l(3).$implicit;n(),p(t("media-details.empty.videos-not-found"))}}function he(e,i){e&1&&s(0,be,3,0,"div",32)(1,Me,2,1,"p",21),e&2&&m(i.length?0:1)}function ye(e,i){if(e&1){let t=A();a(0,"div",4),x(1,"img",6),a(2,"div",7)(3,"h1",8),r(4),a(5,"gs-buttons",9),V("activated",function(){let _=I(t),d=l(2);return F(d.onToggleFavorite(_))}),o()(),a(6,"p",10),r(7),o(),a(8,"div",11)(9,"div",12),x(10,"i",13),a(11,"span"),r(12),v(13,"tmdbPercent"),o()(),s(14,ne,3,3,"div",14),s(15,ae,4,4,"div",15),s(16,oe,3,3,"div",16)(17,le,3,3,"div",16),o(),s(18,de,3,0,"ul",17),a(19,"h2",18),r(20),o(),s(21,ge,2,1),v(22,"async"),a(23,"h2",18),r(24),o(),s(25,Ce,2,1),v(26,"async"),a(27,"h2",18),r(28),o(),s(29,he,2,1),v(30,"async"),o()()}if(e&2){let t,c,_,d=i,y=l().$implicit,C=l();n(),f("src","https://image.tmdb.org/t/p/original/"+d.poster_path,b)("alt",d.title??d.name),n(3),S(" ",d.title??d.name," "),n(),f("buttonType",C.buttonType.Default)("variant",d.favorite?C.variantType.Solid:C.variantType.Outline)("bootstrapIcon",d.favorite?"bi-heart-fill":"bi-heart")("textColor",d.favorite?"#fff":""),n(2),S(" ",d.overview||y("media-details.fallback.overview-not-available")," "),n(5),p(u(13,19,d.vote_average)),n(2),m(d.vote_count!==void 0?14:-1),n(),m(d.release_date||d.first_air_date?15:-1),n(),m(d.runtime?16:d.episode_run_time!=null&&d.episode_run_time.length?17:-1),n(2),m(d.genres.length?18:-1),n(2),p(y("media-details.section-title.cast")),n(),m((t=u(22,21,C.topCast$))?21:-1,t),n(3),p(y("media-details.section-title.crew")),n(),m((c=u(26,23,C.mainCrew$))?25:-1,c),n(3),p(y("media-details.section-title.videos")),n(),m((_=u(30,25,C.videosTrailerClip$))?29:-1,_)}}function Te(e,i){if(e&1&&x(0,"p",5),e&2){let t=l().$implicit;f("innerHTML",t("common.messages.select-media-to-see-details"),B)}}function we(e,i){if(e&1&&(a(0,"div",2),x(1,"gs-buttons",3),s(2,ye,31,27,"div",4),v(3,"async"),j(4,Te,1,1,"p",5),o()),e&2){let t,c=i.$implicit,_=l();n(),f("buttonType",_.buttonType.Link)("text",c("common.buttons.back"))("target",_.targetType.NewTab)("variant",_.variantType.Outline),n(),m((t=u(3,5,_.mediaDetails$))?2:4,t)}}var ee=class e{buttonType=Q;targetType=X;variantType=Z;route=w(q);tMDBService=w(G);local=w(H);mediaType$=this.route.paramMap.pipe(T(),g(i=>i.get("mediaType")),D(i=>!!i&&Object.values(J).includes(i)));mediaId$=this.route.paramMap.pipe(T(),g(i=>Number(i.get("id"))),D(i=>Number.isFinite(i)));mediaDetails$=$([this.mediaType$,this.mediaId$]).pipe(E(([i,t])=>this.tMDBService.getMediaDetailsByID(i,t)),g(i=>{let t=this.local.getFavoritesSnapshot().some(c=>c.id===i.id);return i.favorite=t,i}));isMovie$=this.mediaType$.pipe(T(),g(i=>i==="movie"));topCast$=this.mediaDetails$.pipe(g(i=>(i?.credits?.cast??[]).slice(0,8)));mainCrew$=this.mediaDetails$.pipe(g(i=>(i?.credits?.crew??[]).filter(t=>t.job==="Director"||t.job==="Writer"||t.department==="Writing").slice(0,6)));videosTrailerClip$=this.mediaDetails$.pipe(g(i=>(i?.videos?.results??[]).filter(t=>t.type==="Trailer"||t.type==="Clip")));onToggleFavorite(i){this.local.changeMediaStatus(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=k({type:e,selectors:[["clqt-media-details"]],decls:2,vars:0,consts:[[1,"main"],["class","content",4,"transloco"],[1,"content"],["bootstrapIcon","bi-chevron-double-left","color","#41C8D5","textColor","#FFFFFF","hoverColor","#12AFC0","activeColor","#29BBCA","link","/main-menu",1,"btn-back",3,"buttonType","text","target","variant"],[1,"card"],[1,"empty","required",3,"innerHTML"],["loading","lazy",1,"poster",3,"src","alt"],[1,"text"],[1,"title"],["text","","buttonHtmlType","button","buttonId","fav-btn","color","#ff5a79",1,"fav-btn",3,"activated","buttonType","variant","bootstrapIcon","textColor"],[1,"overview"],[1,"infos"],[1,"vote-average"],[1,"bi","bi-star-fill"],[1,"vote-count"],[1,"release-date"],[1,"runtime"],[1,"genres"],[1,"section-title"],[1,"genre-chip"],[1,"people-grid"],[1,"empty"],[1,"person"],["loading","lazy",1,"person-photo",3,"src","alt"],["aria-hidden","true",1,"person-photo","fallback"],[1,"person-text"],[1,"person-name"],[1,"person-role"],[1,"crew-list"],[1,"crew-item"],[1,"crew-name"],[1,"crew-job"],[1,"videos-grid"],["target","_blank","rel","noopener",1,"video-thumb",3,"href","title"],["loading","lazy",3,"src","alt"],[1,"video-label"]],template:function(t,c){t&1&&(a(0,"div",0),z(1,we,5,7,"div",1),o())},dependencies:[K,Y,W,R,U,N],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;padding:16px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;max-width:1560px;margin:0 auto;background:linear-gradient(160deg,#021018,#08324f)}.card[_ngcontent-%COMP%]{display:grid;grid-template-columns:clamp(300px,30vw,460px) 1fr;gap:18px;width:100%;min-height:calc(100vh - 32px);background:linear-gradient(90deg,#103750,#0e4c79);border:3px solid #0f5b86;border-radius:1.25rem}.poster[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 32px);position:sticky;top:16px;object-fit:cover;border-top-left-radius:1.25rem;border-bottom-left-radius:1.25rem;filter:drop-shadow(0 10px 24px rgba(0,0,0,.35));box-shadow:inset -56px 0 64px -56px #0000008c}.text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:20px 20px 22px}.title[_ngcontent-%COMP%]{display:flex;font-size:clamp(1.4rem,2.2vw,2.15rem);font-weight:800;margin:0}.fav-btn[_ngcontent-%COMP%]{background:transparent;cursor:pointer;font-size:1.1rem;line-height:1;margin-left:auto}.fav-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.overview[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;opacity:.95;margin-top:2px}.infos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;column-gap:18px;row-gap:8px;margin-top:6px}.release-date[_ngcontent-%COMP%], .vote-average[_ngcontent-%COMP%], .vote-count[_ngcontent-%COMP%], .runtime[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px}.release-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-average[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .runtime[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.bi-star-fill[_ngcontent-%COMP%]{color:#ff0}.genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin:2px 0 4px;padding:0;list-style:none}.genre-chip[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;background:#ffffff1f;border:1px solid rgba(255,255,255,.15);font-size:.8rem;white-space:nowrap}.section-title[_ngcontent-%COMP%]{margin:14px 0 8px;font-weight:800;font-size:1.05rem}.empty[_ngcontent-%COMP%]{opacity:.85;font-size:.9rem}.empty.required[_ngcontent-%COMP%]{margin:8px 0}.people-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px 16px;margin:0 0 12px;padding:0;list-style:none}.person[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;min-width:0}.person-photo[_ngcontent-%COMP%]{width:56px;aspect-ratio:2/3;object-fit:cover;border-radius:8px;border:1px solid rgba(255,255,255,.15);flex:0 0 auto}.person-photo.fallback[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffffff14,#ffffff05),radial-gradient(120% 120% at 50% 20%,#ffffff1f,#ffffff0a)}.person-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;min-width:0}.person-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem;line-height:1.1}.person-role[_ngcontent-%COMP%]{opacity:.85;font-size:.85rem;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crew-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:6px 18px;margin:0 0 12px;padding:0;list-style:none}.crew-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:baseline;gap:12px}.crew-item[_ngcontent-%COMP%]   .crew-name[_ngcontent-%COMP%]{font-weight:700}.crew-item[_ngcontent-%COMP%]   .crew-job[_ngcontent-%COMP%]{opacity:.9;white-space:nowrap}.videos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.video-thumb[_ngcontent-%COMP%]{position:relative;display:block;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,.15);transition:transform .12s ease}.video-thumb[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.video-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;object-fit:cover;display:block}.video-thumb[_ngcontent-%COMP%]   .video-label[_ngcontent-%COMP%]{color:#f5f5f5;position:absolute;left:8px;bottom:8px;padding:2px 8px;border-radius:6px;background:#000000c2;font-size:.75rem;font-weight:700;transition:.2s ease}.video-thumb[_ngcontent-%COMP%]   .video-label[_ngcontent-%COMP%]:hover{color:#25b6ff}@media (max-width: 1024px){.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.crew-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.videos-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.card[_ngcontent-%COMP%]{grid-template-columns:1fr}.poster[_ngcontent-%COMP%]{position:static;height:52vh;border-radius:1.25rem 1.25rem 0 0;box-shadow:inset 0 -32px 48px -40px #00000080;filter:none}.people-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.videos-grid[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-auto-columns:80%;overflow-x:auto;scroll-snap-type:x mandatory;gap:10px;padding-bottom:4px}.videos-grid[_ngcontent-%COMP%]   .video-thumb[_ngcontent-%COMP%]{scroll-snap-align:start}}@media (max-width: 482px){.title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fav-btn[_ngcontent-%COMP%]{margin-left:0}}"]})};export{ee as MediaDetails};
